{"version":3,"file":"AddtoCart-DkFq98TQ.js","sources":["../../../../../components/awesome/AddtoCart.vue"],"sourcesContent":["<template>\n  <div class=\"flex ml-4 space-x-2\">\n    <div class=\"mb-7 flex items-center\">\n      <button\n        @click.prevent=\"counter.decrement\"\n        class=\"counter-button mr-2 bg-red-800 text-white px-4 py-2 rounded-lg font-bold text-lg hover:bg-red-600\"\n      >\n        -\n      </button>\n      <div class=\"relative\">\n        <span\n          :key=\"counter.count\"\n          class=\"counter bg-gray-200 text-red px-4 py-2 rounded-lg font-bold text-lg\"\n          >{{ counter.count }}</span\n        >\n      </div>\n      <button\n        @click.prevent=\"counter.increment\"\n        class=\"counter-button ml-2 bg-blue-500 text-white px-4 py-2 rounded-lg font-bold text-lg hover:bg-blue-600\"\n      >\n        +\n      </button>\n    </div>\n    <div class=\"mr-4\">\n      <AwesomeButton\n        @click=\"addToCartHandler\"\n        :disabled=\"loading\"\n        class=\"bg-red-800\"\n      >\n        Add to Cart\n      </AwesomeButton>\n    </div>\n  </div>\n</template>\n<script setup lang=\"ts\">\nimport { AddCart } from \"../../utils/cart\";\n\nvar props = defineProps({\n  productId: Number,\n  variationId: Number,\n  qty: Number,\n});\n// console.log(props.productId, \"this is ProducId\");\n// console.log(props.variationId, \"this is VariationID\");\n\nconst { mutate: addToCart, loading } = useMutation(AddCart);\nconst counter = useCounter();\nasync function addToCartHandler() {\n  console.log(props.productId);\n  try {\n    // const token = localStorage.getItem(\"authToken\");\n    loading.value = true;\n\n    await addToCart({\n      productId: props.productId,\n      variationId: props.variationId,\n      quantity: counter.count,\n     \n    }).then(() => {\n      // props.productId = \"\";\n      // props.variationId = \"\";\n      // (props.qty = \"\"), \n      (loading.value = false);\n      console.log(\"added to cart!\");\n    });\n  } catch (error) {\n    loading.value = false;\n    console.error(\"Error adding product to cart:\", error);\n  }\n}\n</script>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,QAAI,QAAQ;AAQZ,UAAM,EAAE,QAAQ,WAAW,QAAQ,IAAI,YAAY,OAAO;AAC1D,UAAM,UAAU;AAChB,mBAAe,mBAAmB;AACxB,cAAA,IAAI,MAAM,SAAS;AACvB,UAAA;AAEF,gBAAQ,QAAQ;AAEhB,cAAM,UAAU;AAAA,UACd,WAAW,MAAM;AAAA,UACjB,aAAa,MAAM;AAAA,UACnB,UAAU,QAAQ;AAAA,QAAA,CAEnB,EAAE,KAAK,MAAM;AAIX,kBAAQ,QAAQ;AACjB,kBAAQ,IAAI,gBAAgB;AAAA,QAAA,CAC7B;AAAA,eACM,OAAO;AACd,gBAAQ,QAAQ;AACR,gBAAA,MAAM,iCAAiC,KAAK;AAAA,MACtD;AAAA,IACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}