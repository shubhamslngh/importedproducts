import{ai as f,aj as g,a as i,a1 as I,ak as w,a8 as y,J as n,X as m,N as h,M as v,a3 as k,a4 as b,L as S,a9 as C,O as c,_ as E,$ as P}from"./swiper-vue.7WXi4Gh3.js";import{t as V}from"./entry.BpUTUskw.js";import{g as x}from"./cart.CeYy_5HS.js";import{_ as B}from"./AddtoCart.vue.DMQWKHkn.js";import{_ as N}from"./_plugin-vue_export-helper.DlAUqK2U.js";import"./index.C0hHNWom.js";import"./index.vue.UrbMs54x.js";import"./nuxt-link.BT7nebw_.js";import"./use-counter.gR8ZQKdN.js";const A={components:{AddToCart:B,Swiper:f,SwiperSlide:g},props:{productId:{type:Number,required:!0},variationId:{type:Number,default:0}},setup(o){const l=()=>{document.querySelectorAll(".swiper-slide-shadow").forEach(a=>{a.style.opacity="0"})},s=i(o.productId),t=i(o.variationId),d=i([]);let r=i([]);const{mutate:u,loading:p}=V(x);return I(async()=>{try{r=await u({productId:o.productId}),r&&(console.log(r,"data inside try"),d.value=r.data.variableProduct.variations.nodes.map(e=>({name:e.name,img:e.image.link,variationId:e.databaseId})),console.log(d.value,"products object created"))}catch(e){console.error("Error fetching product:",e)}}),setTimeout(()=>{l();const e=new MutationObserver(l),a=document.querySelector(".swiper-container");a&&e.observe(a,{attributes:!0,childList:!0,subtree:!0})},10),{modules:[w],spaceBetween:400,resistanceRatio:0,rewind:!0,selectedProductId:s,selectedVariationId:t,products:d,handleClick:e=>{t.value=e,s.value=o.productId,console.log(s.value,"here is Product id"),console.log(t.value,"here is Variation id")}}}},M=o=>(E("data-v-64171847"),o=o(),P(),o),T={key:0},q=["onClick"],z=["src"],L={key:1},j=M(()=>c("div",{class:"swiper-lazy-preloader swiper-lazy-preloader-black"},null,-1)),O=[j];function $(o,l,s,t,d,r){const u=g,p=f,_=y("AddToCart");return t.products.length>0?(n(),m("div",T,[h(p,{effect:"cards",grabCursor:!0,nested:!0,slideShadows:!1,modules:t.modules,class:"mySwiper dark:bg-none"},{default:v(()=>[(n(!0),m(k,null,b(t.products,(e,a)=>(n(),S(u,{class:"dark:bg-none",key:a,slideShadow:!1,style:C({"background-image":`url(${e.img})`})},{default:v(()=>[c("div",{onClick:F=>t.handleClick(e.variationId)},[c("img",{src:e.img?e.img:"",alt:"Product Image",class:"transition-all ease-in-out"},null,8,z)],8,q)]),_:2},1032,["style"]))),128))]),_:1},8,["modules"]),c("div",null,[h(_,{productId:t.selectedProductId,variationId:t.selectedVariationId},null,8,["productId","variationId"])])])):(n(),m("div",L,O))}const W=N(A,[["render",$],["__scopeId","data-v-64171847"]]);export{W as default};
