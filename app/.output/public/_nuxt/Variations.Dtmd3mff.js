import{ai as v,aj as h,a as n,a2 as I,ak as w,a8 as y,J as i,X as u,N as f,M as g,a3 as k,a4 as b,L as C,a9 as S,O as m}from"./swiper-vue.rgMx2r3g.js";import{D as E}from"./entry.DCiS_UJw.js";import{g as P}from"./cart.Be5c3_UN.js";import{_ as V}from"./AddtoCart.vue.CKD5C-S0.js";import{_ as x}from"./_plugin-vue_export-helper.DlAUqK2U.js";import"./index.DW5EPGft.js";import"./index.vue.DiolXAiI.js";import"./nuxt-link.tc8Wjj3S.js";import"./use-counter.CnkPXxiH.js";const B={components:{AddToCart:V,Swiper:v,SwiperSlide:h},props:{productId:{type:Number,required:!0},variationId:{type:Number,default:0}},setup(a){const c=()=>{document.querySelectorAll(".swiper-slide-shadow").forEach(o=>{o.style.opacity="0"})},s=n(a.productId),t=n(a.variationId),d=n([]);let r=n([]);const{mutate:l,loading:p}=E(P);return I(async()=>{try{r=await l({productId:a.productId}),r&&(console.log(r,"data inside try"),d.value=r.data.variableProduct.variations.nodes.map(e=>({name:e.name,img:e.image.link,variationId:e.databaseId})),console.log(d.value,"products object created"))}catch(e){console.error("Error fetching product:",e)}}),setTimeout(()=>{c();const e=new MutationObserver(c),o=document.querySelector(".swiper-container");o&&e.observe(o,{attributes:!0,childList:!0,subtree:!0})},1e3),{modules:[w],spaceBetween:400,selectedProductId:s,selectedVariationId:t,products:d,handleClick:e=>{t.value=e,s.value=a.productId,console.log(s.value,"here is Product id"),console.log(t.value,"here is Variation id")}}}},N={key:0},A=["onClick"],L=["src"],M={key:1};function T(a,c,s,t,d,r){const l=h,p=v,_=y("AddToCart");return t.products.length>0?(i(),u("div",N,[f(p,{effect:"cards",grabCursor:!0,slideShadows:!1,modules:t.modules,class:"mySwiper dark:bg-none"},{default:g(()=>[(i(!0),u(k,null,b(t.products,(e,o)=>(i(),C(l,{class:"dark:bg-none",key:o,slideShadow:!1,style:S({"background-image":`url(${e.img})`})},{default:g(()=>[m("div",{onClick:q=>t.handleClick(e.variationId)},[m("img",{src:e.img?e.img:"",alt:"Product Image",class:"transition-all ease-in-out"},null,8,L)],8,A)]),_:2},1032,["style"]))),128))]),_:1},8,["modules"]),m("div",null,[f(_,{productId:t.selectedProductId,variationId:t.selectedVariationId},null,8,["productId","variationId"])])])):(i(),u("div",M,"Loading products..."))}const H=x(B,[["render",T],["__scopeId","data-v-c6873c6d"]]);export{H as default};
